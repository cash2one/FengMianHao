<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta content="webkit" name="renderer">
    <meta content="telephone=no,address=no,email=no" name="format-detection">
    <title>封面号|输入邀请码</title>
    <link href="http://wapcdn.thecover.cn/wap/1.0.0/img/favicon.png" rel="alternate icon" type="image/png">
    <link href="http://wapcdn.thecover.cn/wap/1.0.0/img/favicon.png" rel="apple-touch-icon-precomposed">
    <link href="https://wapcdn.thecover.cn/fengmianhao/1.0.0/styles/normalize_bootstrap_material_dialog_v0816.css" rel="stylesheet" type="text/css">
    <link href="./styles/register.css" rel="stylesheet" type="text/css">
    <style type="text/css">
        body {
            position: relative;
            min-width: 1280px;
            padding: 0;
            margin: 0;
            border: none;
            font-family: -apple-system, "Hiragino Sans GB", Roboto, "Droid Sans", "Microsoft YaHei", "Microsoft YaHei UI", "Microsoft JhengHei UI", STHeiti, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Helvetica Neue", sans-serif;
            background: url("https://wapcdn.thecover.cn/fengmianhao/1.0.0/img/bg-login-slide-1.jpg") no-repeat center center fixed;
            background-size: cover;
            -webkit-transition: opacity .2s ease-in;
            -moz-transition: opacity .2s ease-in;
            -ms-transition: opacity .2s ease-in;
            -o-transition: opacity .2s ease-in;
            transition: opacity .2s ease-in;
            overflow-x: hidden;
            overflow-y: hidden;
        }

        .hidden {
            display: none;
        }

        #logo,
        header nav {
            bottom: 0;
            position: absolute
        }

        #main,
        header {
            position: relative
        }

        #main {
            background-repeat: no-repeat
        }

        #login_container,
        #logo,
        header nav {
            position: absolute
        }

        #btn_login,
        nav a {
            text-align: center
        }

        #page_invitecode #content {
            background-color: transparent;
            padding: 0;
        }

        header {
            height: 64px;
            padding: 0;
            width: 100%
        }

        header nav {
            display: block;
            width: auto;
            right: 0
        }

        #logo {
            width: 120px;
            vertical-align: middle;
            left: 0
        }

        nav .menu {
            display: inline-block;
            padding: 0 20px;
            opacity: .8;
            float: right;
        }

        nav .menu.slash {
            padding: 0;
            color: #fff;
            line-height: 36px;
            height: 36px;
            display: inline-block;
            border-right: 1px solid #fff;
            -webkit-transform: rotate(15deg);
            -moz-transform: rotate(15deg);
            -ms-transform: rotate(15deg);
            -o-transform: rotate(15deg);
            transform: rotate(15deg);
            -webkit-transform-origin: 50%;
            -moz-transform-origin: 50%;
            -ms-transform-origin: 50%;
            -o-transform-origin: 50%;
            transform-origin: 50%;
        }

        nav a {
            height: 100%
        }

        nav .menu:last-of-type {
            border-right: none
        }

        nav a {
            display: block;
            text-decoration: none;
            width: 100%;
            line-height: 36px;
            color: #fff;
            font-size: 13px
        }

        #main {
            min-height: 300px;
            width: 60%;
            position: relative;
            top: 50%;
            margin: 0 auto;
            margin-top: -64px;
            -webkit-transform: translateY(-50%);
            -moz-transform: translateY(-50%);
            -ms-transform: translateY(-50%);
            -o-transform: translateY(-50%);
            transform: translateY(-50%);
            color: white;
        }

        #main header h1 {
            margin-left: 35px;
            font-size: 18px;
            line-height: 55px;
            font-weight: 400
        }

        .hidden {
            display: none
        }

        #content {
            width: 1004px;
            padding: 0;
            margin: 0 auto;
            height: 100%;
        }

        #footer {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            width: 100%;
            font-size: 12px;
            vertical-align: bottom;
            line-height: 20px;
            padding: 0 0 50px;
        }

        #footer,
        .my-btn {
            text-align: center;
        }

        #footer,
        #footer a {
            color: #fff;
        }

        .input-wrapper {
            width: 100%;
            margin-top: 30px;
            position: relative;
            font-size: 15px;
            border: 2px solid #ffffff;
            border-radius: 4px;
            max-height: 60px;
            padding: 15px 10px;
        }
        #btn_sendInviteCode {
            display: block;
            border: none;
            text-align: center;
            font-size: 16px;
            line-height: 35px;
            margin: 0 auto;
            margin-top: 30px;
            color: #fff;
            width: 145px;
            padding: 0;
            border-radius: 4px;
            -moz-appearance: none!important;
            -webkit-appearance: none!important;
            appearance: none!important;
            letter-spacing: .25em;
            background: #3e60fa;
            background-image: -webkit-gradient(linear,left top,left bottom,color-stop(0,#3e60fa),color-stop(1,#203cc7));
            background-image: -webkit-linear-gradient(bottom,#3e60fa 0,#203cc7 100%);
            background-image: -webkit-linear-gradient(top,#3e60fa 0,#203cc7 100%);
            background-image: linear-gradient(to bottom,#3e60fa 0,#203cc7 100%);
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3E60FA', endColorstr='#1e5799', GradientType=0 );
        }
        #inputInviteCode {
            width: 333px;
            display: block;
            margin: 0 auto;
            margin-top: 40px;
            position: relative;
            font-size: 15px;
            border: 2px solid rgba(255,255,255,.3);
            border-radius: 4px;
            max-height: 60px;
            padding: 15px 10px;
            background-color: rgba(255,255,255,.2);
        }
        #tips {
            text-align: center;
            margin-top: 70px;
        }
    </style>
</head>

<body id="page_invitecode" class="page-register transparent">
<div id="content">
    <header> <img src="http://wapcdn.thecover.cn/fengmianhao/1.0.0/img/logo_fengmianhao.png" id="logo">
        <nav>
            <ul>
                <li class="menu"><a href="/page/others/inviteCode.html">邀请码注册</a></li>
                <li class="menu slash"></li>
                <li class="menu"><a href="/page/others/faq.html#0">常见问题</a></li>
            </ul>
        </nav>
    </header>
    <div id="main">
        <div class="invitecode-input-wrapper">
            <h1 style="font-size: 20px;text-align: center; margin-top: 0;">
                请输入邀请码
            </h1>
            <input type="text" id="inputInviteCode" maxlength="6">
            <button type="button" id="btn_sendInviteCode">
            确认
        </button>
        </div>
        <p id="tips">*封面号目前采用邀请入驻形式,若没有邀请码,请保持关注封面号平台动态</p>
    </div>
    <footer id="footer">
        <p> <a href="http://www.thecover.cn/aboutUs_about#about" target="_blank">关于我们</a> <a href="http://www.thecover.cn/aboutUs_about#contact" target="_blank">联系我们</a> <a href="http://www.thecover.cn/aboutUs_about#copyright" target="_blank">版权声明</a> <a href="mailto:content@thecover.cn">我要爆料</a> <a href="mailto:biz@thecover.cn">咨询邮箱：biz@thecover.cn</a> </p>
        <p>© CopyRight 2016, thecover.cn, Inc.All Rights Reserved. 蜀ICP备15028104号-1 互联网新闻信息服务许可证：5112016001</p>
    </footer>
</div>
<script src="https://wapcdn.thecover.cn/fengmianhao/1.0.0/scripts/jquery_bootstrap_material_bootstrapDialog_v0722.js"></script>
<script src="./scripts/helpers.js"></script>
<script type="application/javascript">
    $('html, body').height($(window).height());
    $('html, body').width($(window).width());

    function getValueFromUrl(name) {
        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
        var r = window.location.search.substr(1).match(reg);
        if (r != null) return unescape(r[2]);
        return null;
    }
    $('#inputInviteCode').on('change keyup', function () {
        if ($(this).val().length === 6) {
            $('#btn_sendInviteCode').removeClass('frozen');
        }
    });
    $('#btn_sendInviteCode').on('click', function () {
        if ($(this).hasClass('frozen')) {
            return false;
        }
        $(this).addClass('frozen');
        helpers.$post(helpers.apis().checkInviteCode, {
            'data': JSON.stringify({
                'inviteCode': $('#inputInviteCode').val().toUpperCase()
            })
        }).then(function (result) {
            console.log(result.inviteCode);
            $('#btn_sendInviteCode').removeClass('frozen');
            location.replace('/login/stage1' + '?inviteCode=' + result.inviteCode);
            // 去登陆页面
        }, function (status, message) {
            alert(JSON.stringify(message));
            $('#btn_sendInviteCode').removeClass('frozen');
        });
    });
</script>
</body>

</html>